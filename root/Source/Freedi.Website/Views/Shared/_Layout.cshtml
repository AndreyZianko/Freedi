
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    @Styles.Render("~/Content/css")

</head>
<body>
<div class="super_container">
<header class="header trans_300">

    <!-- Top Navigation -->

    <div class="top_nav">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="top_nav_left">free shipping on all u.s orders over $50</div>
                </div>
                <div class="col-md-6 text-right">
                    <div class="top_nav_right">
                        <ul class="top_nav_menu">
                            <li class="account">
                                <a href="#">
                                    My Account
                                    <i class="fa fa-angle-down"></i>
                                </a>
                                <ul class="account_selection">
                                    @if (Request.IsAuthenticated)
                                    {
                                        <li>@Html.RouteLink("Sign Out", new {controller = "Account", action = "Logout"}, new {@class = "link"})</li>
                                    }
                                    else
                                    {
                                        <li>@Html.RouteLink("Sign In", new {controller = "Account", action = "Login"}, new {@class = "link"})</li>
                                        <li>@Html.RouteLink("Register", new {controller = "Account", action = "Register"}, new {@class = "link"})</li>
                                    }
                                </ul>
                            </li>
                            @if (Request.IsAuthenticated)
                            {
                                if (User.IsInRole("admin"))
                                {
                                    <li class="account">
                                        @Html.RouteLink("AdminPanel", new {controller = "Admin", action = "Admin"}, new {@class = "link"})
                                    </li>
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Navigation -->

    <div class="main_nav_container">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-right">
                    <div class="logo_container">

                        @Html.ActionLink("Freedi", "Freedi", "Home")
                    </div>
                    <nav class="navbar">
                        <ul class="navbar_menu">
                            <li>
                                <a href="@Url.Action("Freedi","Home")">home</a>
                            </li>
                            <li>
                              
                                <a href="@Url.Action("Catalog","Home")">shop</a>
                            </li>
                           
                            <li>
                                <a href="https://www.instagram.com/myfreedi">contact</a>
                            </li>
                        </ul>

                        <ul class="navbar_user">
                            <li>
                                <a href="#">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("Login", "Account")">
                                    <i class="fa fa-user" aria-hidden="true"></i>
                                </a>
                            </li>
                            @if (Request.IsAuthenticated)
                            {
                                <li class="checkout">


                                    <a data-ajax="true" data-ajax-mode="replace" data-ajax-update="#CartList" data-target="#Cart" data-toggle="modal" href="@Url.Action("GetCartView", "Cart")">
                                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                        <span id="checkout_items" class="checkout_items"></span>
                                    </a>

                                </li>
                            }


                        </ul>
                        <div class="hamburger_container">
                            <i class="fas fa-bars" aria-hidden="true"></i>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>

</header>
<div class="fs_menu_overlay"></div>
<div class="hamburger_menu">
    <div class="hamburger_close">
        <i class="fa fa-times" aria-hidden="true"></i>
    </div>
    <div class="hamburger_menu_content text-right">
        <ul class="menu_top_nav">
            <li class="menu_item has-children">
                <a href="#">
                    My Account
                    <i class="fa fa-angle-down"></i>
                </a>
                <ul class="menu_selection">
                    @if (Request.IsAuthenticated)
                    {
                        <li>@Html.RouteLink("Sign Out", new {controller = "Account", action = "Logout"}, new {@class = "link"})</li>
                    }
                    else
                    {
                        <li>@Html.RouteLink("Sign In", new {controller = "Account", action = "Login"}, new {@class = "link"})</li>
                        <li>@Html.RouteLink("Register", new {controller = "Account", action = "Register"}, new {@class = "link"})</li>
                    }
                </ul>
            </li>
            <li class="menu_item">
                <a href="@Url.Action("index", "Home")">home</a>
            </li>
            <li class="menu_item">
                <a href="@Url.Action("Catalog", "Home")">shop</a>
            </li>

            @if (Request.IsAuthenticated)
            {
                if (User.IsInRole("admin"))
                {
                    <li class="menu_item">
                        @Html.RouteLink("AdminPanel", new {controller = "Admin", action = "Admin"}, new {@class = "link"})
                    </li>
                }
            }
        </ul>
    </div>
</div>


@RenderBody()
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
                    <ul class="footer_nav">
                        <li>
                            <a href="https://www.instagram.com/myfreedi/">Contact us</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
                    <ul>
                        
                        <li>
                            <a href="https://www.instagram.com/myfreedi">
                                <i class="fab fa-instagram" aria-hidden="true"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <i class="fab fa-skype" aria-hidden="true"></i>
                            </a>
                        </li>
                     
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="footer_nav_container">
                    <div class="cr">©2018 All Rights Reserverd</div>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
@if (Request.IsAuthenticated)
{
    <div class="modal fade in" id="Cart" role="dialog">
        <div class="modal-dialog modal-lg">
            <section id="ChageFrom">
                <div class="modal-content">
                    <div class="modal-header border-white">
                        <button type="button" class="close" aria-label="Close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="CartList">


                    </div>
                </div>
            </section>
        </div>
    </div>
}


@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")
@Scripts.Render("~/bundles/custom-validator")
@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/AdminPanel")
@RenderSection("scripts", false)


<script>
    $(window).on('load',
        function() {
            debugger;
            $.ajax({
                url: "/Cart/CartItemsCounter",
                success: function(result) {

                    if (result > 0) {
                        $("#checkout_items").show();  
                        $("#checkout_items").html(result);
                    } else {
                        $("#checkout_items").hide();
                    }


                }
            });
        });
</script>
</body>
</html>